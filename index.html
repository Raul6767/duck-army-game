<script>
let growTimer;

function showFarmer() {
    hideAll();
    document.getElementById("farmerMenu").classList.remove("hidden");
}

function showMerchant() {
    hideAll();
    document.getElementById("merchantMenu").classList.remove("hidden");
}

function showFactory() {
    alert("Factory coming soon!");
}

function goBack() {
    hideAll();
    document.getElementById("mainMenu").classList.remove("hidden");
}

function hideAll() {
    document.getElementById("mainMenu").classList.add("hidden");
    document.getElementById("farmerMenu").classList.add("hidden");
    document.getElementById("merchantMenu").classList.add("hidden");
}

function startPlant() {
    let farm = document.getElementById("farmArea");
    let result = document.getElementById("result");

    result.innerHTML = "";
    farm.innerHTML = "ðŸŒ±";

    let timeLeft = 5;

    growTimer = setInterval(function() {
        timeLeft--;

        if (timeLeft <= 0) {
            clearInterval(growTimer);
            growFlower();
        }
    }, 1000);
}

function growFlower() {
    let farm = document.getElementById("farmArea");
    let result = document.getElementById("result");

    // Rarity flower pools
    let badFlowers = ["ðŸ’®","ðŸŒ¸","ðŸ¥€"];
    let rareFlowers = ["ðŸŒ¼","ðŸŒ¹","ðŸŒ·"];
    let opFlowers = ["ðŸŒ»","ðŸ’","ðŸª·","ðŸª»","ðŸŒº"];

    let random = Math.random();
    let chosenFlower;
    let rarityText;

    if (random < 0.6) {
        // 60% BAD
        chosenFlower = badFlowers[Math.floor(Math.random() * badFlowers.length)];
        rarityText = "Bad";
    }
    else if (random < 0.9) {
        // 30% RARE
        chosenFlower = rareFlowers[Math.floor(Math.random() * rareFlowers.length)];
        rarityText = "Rare";
    }
    else {
        // 10% OP
        chosenFlower = opFlowers[Math.floor(Math.random() * opFlowers.length)];
        rarityText = "OP ðŸ”¥";
    }

    farm.innerHTML = chosenFlower;
    result.innerHTML = "Rarity: " + rarityText;
}
</script>
